parameters:
    ezpublish_rest.output.value_object_visitor.base.class: EzSystems\EzPlatformRest\Output\ValueObjectVisitor
    ezpublish_rest.output.value_object_visitor.ContentObjectStates.class: EzSystems\EzPlatformRest\Output\ValueObjectVisitor\ContentObjectStates

    # Errors
    ezpublish_rest.output.value_object_visitor.InvalidArgumentException.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\InvalidArgumentException
    ezpublish_rest.output.value_object_visitor.NotFoundException.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\NotFoundException
    ezpublish_rest.output.value_object_visitor.UnauthorizedException.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\UnauthorizedException
    ezpublish_rest.output.value_object_visitor.BadStateException.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\BadStateException
    ezpublish_rest.output.value_object_visitor.BadRequestException.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\BadRequestException
    ezpublish_rest.output.value_object_visitor.ContentFieldValidationException.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ContentFieldValidationException
    ezpublish_rest.output.value_object_visitor.ForbiddenException.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ForbiddenException
    ezpublish_rest.output.value_object_visitor.Exception.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Exception
    ezpublish_rest.output.value_object_visitor.NotImplementedException.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\NotImplementedException

    # Section
    ezpublish_rest.output.value_object_visitor.SectionList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\SectionList
    ezpublish_rest.output.value_object_visitor.CreatedSection.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedSection
    ezpublish_rest.output.value_object_visitor.Section.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Section

    # URLWildcard
    ezpublish_rest.output.value_object_visitor.URLWildcardList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\URLWildcardList
    ezpublish_rest.output.value_object_visitor.URLWildcard.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\URLWildcard
    ezpublish_rest.output.value_object_visitor.CreatedURLWildcard.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedURLWildcard

    # URLAlias
    ezpublish_rest.output.value_object_visitor.URLAliasList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\URLAliasList
    ezpublish_rest.output.value_object_visitor.URLAliasRefList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\URLAliasRefList
    ezpublish_rest.output.value_object_visitor.URLAlias.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\URLAlias
    ezpublish_rest.output.value_object_visitor.CreatedURLAlias.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedURLAlias

    # Content
    ezpublish_rest.output.value_object_visitor.ContentList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ContentList
    ezpublish_rest.output.value_object_visitor.RestContent.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestContent
    ezpublish_rest.output.value_object_visitor.CreatedContent.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedContent
    ezpublish_rest.output.value_object_visitor.VersionList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\VersionList
    ezpublish_rest.output.value_object_visitor.CreatedVersion.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedVersion
    ezpublish_rest.output.value_object_visitor.VersionInfo.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\VersionInfo
    ezpublish_rest.output.value_object_visitor.ImageVariation.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ImageVariation
    ezpublish_rest.output.value_object_visitor.Version.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Version
    ezpublish_rest.output.value_object_visitor.VersionTranslationInfo.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\VersionTranslationInfo

    # User group
    ezpublish_rest.output.value_object_visitor.RestUserGroup.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestUserGroup
    ezpublish_rest.output.value_object_visitor.CreatedUserGroup.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedUserGroup
    ezpublish_rest.output.value_object_visitor.UserGroupList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\UserGroupList
    ezpublish_rest.output.value_object_visitor.UserGroupRefList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\UserGroupRefList

    # User
    ezpublish_rest.output.value_object_visitor.UserList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\UserList
    ezpublish_rest.output.value_object_visitor.UserRefList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\UserRefList
    ezpublish_rest.output.value_object_visitor.CreatedUser.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedUser
    ezpublish_rest.output.value_object_visitor.RestUser.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestUser
    ezpublish_rest.output.value_object_visitor.UserSession.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\UserSession
    ezpublish_rest.output.value_object_visitor.UserSessionDeleted.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\DeletedUserSession

    # ContentType
    ezpublish_rest.output.value_object_visitor.RestContentType.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestContentType
    ezpublish_rest.output.value_object_visitor.CreatedContentType.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedContentType

    # Object state
    ezpublish_rest.output.value_object_visitor.ObjectStateList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ObjectStateList
    ezpublish_rest.output.value_object_visitor.CreatedObjectState.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedObjectState
    ezpublish_rest.output.value_object_visitor.RestObjectState.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestObjectState
    ezpublish_rest.output.value_object_visitor.ObjectStateGroupList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ObjectStateGroupList
    ezpublish_rest.output.value_object_visitor.CreatedObjectStateGroup.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedObjectStateGroup
    ezpublish_rest.output.value_object_visitor.ObjectStateGroup.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ObjectStateGroup

    # View
    ezpublish_rest.output.value_object_visitor.RestExecutedView.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestExecutedView

    # Trash
    ezpublish_rest.output.value_object_visitor.RestTrashItem.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestTrashItem
    ezpublish_rest.output.value_object_visitor.Trash.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Trash

    # Location
    ezpublish_rest.output.value_object_visitor.LocationList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\LocationList
    ezpublish_rest.output.value_object_visitor.RestLocation.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestLocation
    ezpublish_rest.output.value_object_visitor.Location.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Location
    ezpublish_rest.output.value_object_visitor.CreatedLocation.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedLocation

    # Roles
    ezpublish_rest.output.value_object_visitor.RestUserGroupRoleAssignment.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestUserGroupRoleAssignment
    ezpublish_rest.output.value_object_visitor.RestUserRoleAssignment.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestUserRoleAssignment
    ezpublish_rest.output.value_object_visitor.RoleAssignmentList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RoleAssignmentList
    ezpublish_rest.output.value_object_visitor.PolicyList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\PolicyList
    ezpublish_rest.output.value_object_visitor.CreatedPolicy.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedPolicy
    ezpublish_rest.output.value_object_visitor.Policy.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Policy
    ezpublish_rest.output.value_object_visitor.Role.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Role
    ezpublish_rest.output.value_object_visitor.CreatedRole.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedRole
    ezpublish_rest.output.value_object_visitor.PublishedRole.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\PublishedRole
    ezpublish_rest.output.value_object_visitor.RoleList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RoleList

    # Relation
    ezpublish_rest.output.value_object_visitor.CreatedRelation.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedRelation
    ezpublish_rest.output.value_object_visitor.RestRelation.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestRelation
    ezpublish_rest.output.value_object_visitor.RelationList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RelationList

    # Field Definition
    ezpublish_rest.output.value_object_visitor.RestFieldDefinition.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\RestFieldDefinition
    ezpublish_rest.output.value_object_visitor.CreatedFieldDefinition.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedFieldDefinition
    ezpublish_rest.output.value_object_visitor.FieldDefinitionList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\FieldDefinitionList

    # Content Type Group
    ezpublish_rest.output.value_object_visitor.ContentTypeGroupList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ContentTypeGroupList
    ezpublish_rest.output.value_object_visitor.CreatedContentTypeGroup.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CreatedContentTypeGroup
    ezpublish_rest.output.value_object_visitor.ContentTypeGroup.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ContentTypeGroup
    ezpublish_rest.output.value_object_visitor.ContentTypeInfoList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ContentTypeInfoList
    ezpublish_rest.output.value_object_visitor.ContentTypeList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ContentTypeList
    ezpublish_rest.output.value_object_visitor.ContentTypeGroupRefList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ContentTypeGroupRefList

    # HTTP
    ezpublish_rest.output.value_object_visitor.Conflict.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Conflict
    ezpublish_rest.output.value_object_visitor.SeeOther.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\SeeOther
    ezpublish_rest.output.value_object_visitor.Root.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Root
    ezpublish_rest.output.value_object_visitor.NoContent.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\NoContent
    ezpublish_rest.output.value_object_visitor.ResourceCreated.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\ResourceCreated
    ezpublish_rest.output.value_object_visitor.PermanentRedirect.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\PermanentRedirect
    ezpublish_rest.output.value_object_visitor.TemporaryRedirect.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\TemporaryRedirect
    ezpublish_rest.output.value_object_visitor.Options.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\Options
    ezpublish_rest.output.value_object_visitor.OK.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\OK

    # Cache
    ezpublish_rest.output.value_object_visitor.cached_value.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CachedValue

    # Services
    ezpublish_rest.output.value_object_visitor.CountryList.class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\CountryList

services:
    ezpublish_rest.output.value_object_visitor.base:
        class: "%ezpublish_rest.output.value_object_visitor.base.class%"
        calls:
            - [ setRequestParser, [ "@ezpublish_rest.request_parser" ] ]
            - [ setRouter, [ "@router" ] ]
            - [ setTemplateRouter, [ "@ezpublish_rest.templated_router"] ]

    # Errors
    ezpublish_rest.output.value_object_visitor.InvalidArgumentException:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.InvalidArgumentException.class%"
        arguments: [ "%kernel.debug%", "@translator" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Exceptions\InvalidArgumentException }

    ezpublish_rest.output.value_object_visitor.NotFoundException:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.NotFoundException.class%"
        arguments: [ "%kernel.debug%", "@translator" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Exceptions\NotFoundException }

    ezpublish_rest.output.value_object_visitor.UnauthorizedException:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.UnauthorizedException.class%"
        arguments: [ "%kernel.debug%", "@translator" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Exceptions\UnauthorizedException }

    ezpublish_rest.output.value_object_visitor.BadStateException:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.BadStateException.class%"
        arguments: [ "%kernel.debug%", "@translator" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Exceptions\BadStateException }

    ezpublish_rest.output.value_object_visitor.BadRequestException:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.BadRequestException.class%"
        arguments: [ "%kernel.debug%", "@translator" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Exceptions\BadRequestException }
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Exceptions\Parser }

    ezpublish_rest.output.value_object_visitor.ContentFieldValidationException:
        parent: ezpublish_rest.output.value_object_visitor.BadRequestException
        class: "%ezpublish_rest.output.value_object_visitor.ContentFieldValidationException.class%"
        arguments: [ "%kernel.debug%", "@translator" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Exceptions\ContentFieldValidationException }

    ezpublish_rest.output.value_object_visitor.ForbiddenException:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ForbiddenException.class%"
        arguments: [ "%kernel.debug%", "@translator" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Exceptions\ForbiddenException }

    ezpublish_rest.output.value_object_visitor.NotImplementedException:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.NotImplementedException.class%"
        arguments: [ "%kernel.debug%", "@translator" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Exceptions\NotImplementedException }

    ezpublish_rest.output.value_object_visitor.Exception:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Exception.class%"
        arguments: [ "%kernel.debug%", "@translator" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: Exception }

    # Section
    ezpublish_rest.output.value_object_visitor.SectionList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.SectionList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\SectionList }

    ezpublish_rest.output.value_object_visitor.CreatedSection:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedSection.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedSection }

    ezpublish_rest.output.value_object_visitor.Section:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Section.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\Content\Section }

    # URLWildcard
    ezpublish_rest.output.value_object_visitor.URLWildcardList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.URLWildcardList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\URLWildcardList }

    ezpublish_rest.output.value_object_visitor.URLWildcard:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.URLWildcard.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\Content\URLWildcard }

    ezpublish_rest.output.value_object_visitor.CreatedURLWildcard:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedURLWildcard.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedURLWildcard }

    # URLAlias
    ezpublish_rest.output.value_object_visitor.URLAliasList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.URLAliasList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\URLAliasList }

    ezpublish_rest.output.value_object_visitor.URLAliasRefList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.URLAliasRefList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\URLAliasRefList }

    ezpublish_rest.output.value_object_visitor.URLAlias:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.URLAlias.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\Content\URLAlias }

    ezpublish_rest.output.value_object_visitor.CreatedURLAlias:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedURLAlias.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedURLAlias }

    # Content
    ezpublish_rest.output.value_object_visitor.ContentList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ContentList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\ContentList }

    ezpublish_rest.output.value_object_visitor.RestContent:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestContent.class%"
        arguments: ['@ezpublish.translation_helper']
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestContent }

    ezpublish_rest.output.value_object_visitor.CreatedContent:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedContent.class%"
        arguments: ['@ezpublish.translation_helper']
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedContent }

    ezpublish_rest.output.value_object_visitor.VersionList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.VersionList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\VersionList }

    ezpublish_rest.output.value_object_visitor.CreatedVersion:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedVersion.class%"
        arguments: [ "@ezpublish_rest.field_type_serializer" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedVersion }

    ezpublish_rest.output.value_object_visitor.VersionInfo:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.VersionInfo.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\Content\VersionInfo }

    ezpublish_rest.output.value_object_visitor.ImageVariation:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ImageVariation.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\SPI\Variation\Values\ImageVariation }

    ezpublish_rest.output.value_object_visitor.Version:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Version.class%"
        arguments: [ "@ezpublish_rest.field_type_serializer"  ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\Version }

    ezpublish_rest.output.value_object_visitor.VersionTranslationInfo:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.VersionTranslationInfo.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\VersionTranslationInfo }

    # UserGroup
    ezpublish_rest.output.value_object_visitor.RestUserGroup:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestUserGroup.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestUserGroup }

    ezpublish_rest.output.value_object_visitor.CreatedUserGroup:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedUserGroup.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedUserGroup }

    ezpublish_rest.output.value_object_visitor.UserGroupList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.UserGroupList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\UserGroupList }

    ezpublish_rest.output.value_object_visitor.UserGroupRefList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.UserGroupRefList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\UserGroupRefList }

    # User
    ezpublish_rest.output.value_object_visitor.UserList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.UserList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\UserList }

    ezpublish_rest.output.value_object_visitor.UserRefList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.UserRefList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\UserRefList }

    ezpublish_rest.output.value_object_visitor.CreatedUser:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedUser.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedUser }

    ezpublish_rest.output.value_object_visitor.RestUser:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestUser.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestUser }

    ezpublish_rest.output.value_object_visitor.UserSession:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.UserSession.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\UserSession }

    ezpublish_rest.output.value_object_visitor.UserSessionDeleted:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.UserSessionDeleted.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\DeletedUserSession }

    # ContentType
    ezpublish_rest.output.value_object_visitor.RestContentType:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestContentType.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestContentType }

    ezpublish_rest.output.value_object_visitor.CreatedContentType:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedContentType.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedContentType }

    ezpublish_rest.output.value_object_visitor.ContentTypeList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ContentTypeList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\ContentTypeList }

    ezpublish_rest.output.value_object_visitor.ContentTypeInfoList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ContentTypeInfoList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\ContentTypeInfoList }

    ezpublish_rest.output.value_object_visitor.ContentTypeGroup:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ContentTypeGroup.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\ContentType\ContentTypeGroup }

    ezpublish_rest.output.value_object_visitor.CreatedContentTypeGroup:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedContentTypeGroup.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedContentTypeGroup }

    ezpublish_rest.output.value_object_visitor.ContentTypeGroupList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ContentTypeGroupList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\ContentTypeGroupList }

    ezpublish_rest.output.value_object_visitor.ContentTypeGroupRefList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ContentTypeGroupRefList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\ContentTypeGroupRefList }

    ezpublish_rest.output.value_object_visitor.FieldDefinitionList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.FieldDefinitionList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\FieldDefinitionList }

    ezpublish_rest.output.value_object_visitor.CreatedFieldDefinition:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedFieldDefinition.class%"
        arguments: [ "@ezpublish_rest.field_type_serializer"  ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedFieldDefinition }

    ezpublish_rest.output.value_object_visitor.RestFieldDefinition:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestFieldDefinition.class%"
        arguments: [ "@ezpublish_rest.field_type_serializer"  ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestFieldDefinition }

    # Relation
    ezpublish_rest.output.value_object_visitor.RelationList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RelationList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RelationList }

    ezpublish_rest.output.value_object_visitor.RestRelation:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestRelation.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestRelation }

    ezpublish_rest.output.value_object_visitor.CreatedRelation:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedRelation.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedRelation }

    # Role
    ezpublish_rest.output.value_object_visitor.RoleList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RoleList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RoleList }

    ezpublish_rest.output.value_object_visitor.CreatedRole:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedRole.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedRole }

    ezpublish_rest.output.value_object_visitor.PublishedRole:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.PublishedRole.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\PublishedRole }

    ezpublish_rest.output.value_object_visitor.Role:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Role.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\User\Role }
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\User\RoleDraft }

    ezpublish_rest.output.value_object_visitor.Policy:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Policy.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\User\Policy }
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\User\PolicyDraft }

    ezpublish_rest.output.value_object_visitor.CreatedPolicy:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedPolicy.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedPolicy }

    ezpublish_rest.output.value_object_visitor.PolicyList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.PolicyList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\PolicyList }

    ezpublish_rest.output.value_object_visitor.RoleAssignmentList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RoleAssignmentList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RoleAssignmentList }

    ezpublish_rest.output.value_object_visitor.RestUserRoleAssignment:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestUserRoleAssignment.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestUserRoleAssignment }

    ezpublish_rest.output.value_object_visitor.RestUserGroupRoleAssignment:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestUserGroupRoleAssignment.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestUserGroupRoleAssignment }

    # Location
    ezpublish_rest.output.value_object_visitor.CreatedLocation:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedLocation.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedLocation }

    ezpublish_rest.output.value_object_visitor.RestLocation:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestLocation.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestLocation }

    ezpublish_rest.output.value_object_visitor.Location:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Location.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\Content\Location }
        arguments: ["@ezpublish.api.service.location"]

    ezpublish_rest.output.value_object_visitor.LocationList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.LocationList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\LocationList }

    # Trash
    ezpublish_rest.output.value_object_visitor.Trash:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Trash.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\Trash }

    ezpublish_rest.output.value_object_visitor.RestTrashItem:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestTrashItem.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestTrashItem }

    # Views
    ezpublish_rest.output.value_object_visitor.RestExecutedView:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestExecutedView.class%"
        arguments: [ "@ezpublish.api.service.location", "@ezpublish.api.service.content" ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\RestExecutedView }

    # Object state
    ezpublish_rest.output.value_object_visitor.ObjectStateGroup:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ObjectStateGroup.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: eZ\Publish\API\Repository\Values\ObjectState\ObjectStateGroup }

    ezpublish_rest.output.value_object_visitor.CreatedObjectStateGroup:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedObjectStateGroup.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedObjectStateGroup }

    ezpublish_rest.output.value_object_visitor.ObjectStateGroupList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ObjectStateGroupList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\ObjectStateGroupList }

    ezpublish_rest.output.value_object_visitor.RestObjectState:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.RestObjectState.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Values\RestObjectState }

    ezpublish_rest.output.value_object_visitor.CreatedObjectState:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CreatedObjectState.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CreatedObjectState }

    ezpublish_rest.output.value_object_visitor.ObjectStateList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ObjectStateList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\ObjectStateList }

    ezpublish_rest.output.value_object_visitor.ContentObjectStates:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ContentObjectStates.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Values\ContentObjectStates }

    # Services
    ezpublish_rest.output.value_object_visitor.CountryList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.CountryList.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CountryList}

    # REST specific
    ezpublish_rest.output.value_object_visitor.TemporaryRedirect:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.TemporaryRedirect.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\TemporaryRedirect }

    ezpublish_rest.output.value_object_visitor.PermanentRedirect:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.PermanentRedirect.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\PermanentRedirect }

    ezpublish_rest.output.value_object_visitor.ResourceCreated:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.ResourceCreated.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\ResourceCreated }

    ezpublish_rest.output.value_object_visitor.NoContent:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.NoContent.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\NoContent }

    ezpublish_rest.output.value_object_visitor.Root:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Root.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Values\Root }

    ezpublish_rest.output.value_object_visitor.SeeOther:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.SeeOther.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\SeeOther }

    ezpublish_rest.output.value_object_visitor.Conflict:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Conflict.class%"
        arguments: [ true  ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\Conflict }

    ezpublish_rest.output.value_object_visitor.Options:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.Options.class%"
        arguments: [ true  ]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\Options }

    ezpublish_rest.output.value_object_visitor.OK:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: "%ezpublish_rest.output.value_object_visitor.OK.class%"
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\OK }

    ezpublish_rest.output.value_object_visitor.cached_value:
        class: "%ezpublish_rest.output.value_object_visitor.cached_value.class%"
        parent: ezpublish_rest.output.value_object_visitor.base
        arguments:
            - "@ezpublish.config.resolver"
        calls:
            - [setRequestStack, ["@request_stack"]]
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\CachedValue }

    ezpublish_rest.output.value_object_visitor.BookmarkList:
        parent: ezpublish_rest.output.value_object_visitor.base
        class: EzSystems\EzPlatformRest\Server\Output\ValueObjectVisitor\BookmarkList
        tags:
            - { name: ezpublish_rest.output.value_object_visitor, type: EzSystems\EzPlatformRest\Server\Values\BookmarkList }
